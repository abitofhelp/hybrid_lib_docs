<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1634px" preserveAspectRatio="none" style="width:3441px;height:1634px;background:#FFFFFF;" version="1.1" viewBox="0 0 3441 1634" width="3441px" zoomAndPan="magnify"><title>API Adapter Pattern
Composition Root + Platform Flexibility (Go)</title><defs/><g><g class="title" data-source-line="6"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="250.4434" x="1590.7783" y="37.1182">API Adapter Pattern</text><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="552.5781" x="1439.7109" y="63.8555">Composition Root + Platform Flexibility (Go)</text></g><!--cluster Consumer--><g class="cluster" data-entity="Consumer" data-source-line="8" data-uid="ent0002" id="cluster_Consumer"><path d="M756.5,85.4746 L929.7041,85.4746 A3.75,3.75 0 0 1 932.2041,87.9746 L939.2041,108.4893 L1201.5,108.4893 A2.5,2.5 0 0 1 1204,110.9893 L1204,302.9646 A2.5,2.5 0 0 1 1201.5,305.4646 L756.5,305.4646 A2.5,2.5 0 0 1 754,302.9646 L754,87.9746 A2.5,2.5 0 0 1 756.5,85.4746" fill="#E0FFE0" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="754" x2="939.2041" y1="108.4893" y2="108.4893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172.2041" x="758" y="101.5498">Consumer Application</text></g><!--cluster APILayer--><g class="cluster" data-entity="APILayer" data-source-line="24" data-uid="ent0007" id="cluster_APILayer"><path d="M509.5,329.4646 L587.6982,329.4646 A3.75,3.75 0 0 1 590.1982,331.9646 L597.1982,352.4793 L2367.5,352.4793 A2.5,2.5 0 0 1 2370,354.9793 L2370,752.3546 A2.5,2.5 0 0 1 2367.5,754.8546 L509.5,754.8546 A2.5,2.5 0 0 1 507,752.3546 L507,331.9646 A2.5,2.5 0 0 1 509.5,329.4646" fill="#FFEBCD" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="507" x2="597.1982" y1="352.4793" y2="352.4793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.1982" x="511" y="345.5398">API Layer</text></g><!--cluster APIFacade--><g class="cluster" data-entity="APIFacade" data-source-line="26" data-uid="ent0008" id="cluster_APIFacade"><path d="M533.5,373.4646 L676.0859,373.4646 A3.75,3.75 0 0 1 678.5859,375.9646 L685.5859,396.4793 L900.5,396.4793 A2.5,2.5 0 0 1 903,398.9793 L903,511.9646 A2.5,2.5 0 0 1 900.5,514.4646 L533.5,514.4646 A2.5,2.5 0 0 1 531,511.9646 L531,375.9646 A2.5,2.5 0 0 1 533.5,373.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="531" x2="685.5859" y1="396.4793" y2="396.4793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="141.5859" x="535" y="389.5398">api (Type Facade)</text></g><!--cluster Roots--><g class="cluster" data-entity="Roots" data-source-line="37" data-uid="ent0013" id="cluster_Roots"><path d="M932.5,381.3646 L1080.9375,381.3646 A3.75,3.75 0 0 1 1083.4375,383.8646 L1090.4375,404.3793 L2343.5,404.3793 A2.5,2.5 0 0 1 2346,406.8793 L2346,504.0646 A2.5,2.5 0 0 1 2343.5,506.5646 L932.5,506.5646 A2.5,2.5 0 0 1 930,504.0646 L930,383.8646 A2.5,2.5 0 0 1 932.5,381.3646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="930" x2="1090.4375" y1="404.3793" y2="404.3793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="147.4375" x="934" y="397.4398">Composition Roots</text></g><!--cluster UseCases--><g class="cluster" data-entity="UseCases" data-source-line="60" data-uid="ent0026" id="cluster_UseCases"><path d="M1892.5,589.8546 L2065.7861,589.8546 A3.75,3.75 0 0 1 2068.2861,592.3546 L2075.2861,612.8693 L2335.5,612.8693 A2.5,2.5 0 0 1 2338,615.3693 L2338,728.3546 A2.5,2.5 0 0 1 2335.5,730.8546 L1892.5,730.8546 A2.5,2.5 0 0 1 1890,728.3546 L1890,592.3546 A2.5,2.5 0 0 1 1892.5,589.8546" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1890" x2="2075.2861" y1="612.8693" y2="612.8693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172.2861" x="1894" y="605.9298">Application Use Cases</text></g><!--cluster InfraLayer--><g class="cluster" data-entity="InfraLayer" data-source-line="72" data-uid="ent0031" id="cluster_InfraLayer"><path d="M2908.5,610.8546 L3070.2266,610.8546 A3.75,3.75 0 0 1 3072.7266,613.3546 L3079.7266,633.8693 L3431.5,633.8693 A2.5,2.5 0 0 1 3434,636.3693 L3434,707.3646 A2.5,2.5 0 0 1 3431.5,709.8646 L2908.5,709.8646 A2.5,2.5 0 0 1 2906,707.3646 L2906,613.3546 A2.5,2.5 0 0 1 2908.5,610.8546" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="2906" x2="3079.7266" y1="633.8693" y2="633.8693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.7266" x="2910" y="626.9298">Infrastructure Layer</text></g><!--cluster AppLayer--><g class="cluster" data-entity="AppLayer" data-source-line="78" data-uid="ent0035" id="cluster_AppLayer"><path d="M2429.5,778.8546 L2567.2803,778.8546 A3.75,3.75 0 0 1 2569.7803,781.3546 L2576.7803,801.8693 L2968.5,801.8693 A2.5,2.5 0 0 1 2971,804.3693 L2971,875.3746 A2.5,2.5 0 0 1 2968.5,877.8746 L2429.5,877.8746 A2.5,2.5 0 0 1 2427,875.3746 L2427,781.3546 A2.5,2.5 0 0 1 2429.5,778.8546" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="2427" x2="2576.7803" y1="801.8693" y2="801.8693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.7803" x="2431" y="794.9298">Application Layer</text></g><!--cluster DomainLayer--><g class="cluster" data-entity="DomainLayer" data-source-line="84" data-uid="ent0039" id="cluster_DomainLayer"><path d="M2417.5,905.8746 L2527.082,905.8746 A3.75,3.75 0 0 1 2529.582,908.3746 L2536.582,928.8893 L2781.5,928.8893 A2.5,2.5 0 0 1 2784,931.3893 L2784,1002.3846 A2.5,2.5 0 0 1 2781.5,1004.8846 L2417.5,1004.8846 A2.5,2.5 0 0 1 2415,1002.3846 L2415,908.3746 A2.5,2.5 0 0 1 2417.5,905.8746" fill="#FFF9E6" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="2415" x2="2536.582" y1="928.8893" y2="928.8893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.582" x="2419" y="921.9498">Domain Layer</text></g><!--entity Main--><g class="entity" data-entity="Main" data-source-line="9" data-uid="ent0003" id="entity_Main"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="74.7266" x="769.64" y="181.9646"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="824.3666" y="186.9646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="822.3666" y="188.9646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="822.3666" y="192.9646"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="34.7266" x="784.64" y="216.0398">main</text></g><g class="entity" data-entity="GMN4" data-source-line="11" data-uid="ent0005" id="entity_GMN4"><path d="M904.24,121.4746 L904.24,193.8846 L844.61,197.8846 L904.24,201.8846 L904.24,289.4678 A0,0 0 0 0 904.24,289.4678 L1187.76,289.4678 A0,0 0 0 0 1187.76,289.4678 L1187.76,131.4746 L1177.76,121.4746 L904.24,121.4746 A0,0 0 0 0 904.24,121.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1177.76,121.4746 L1177.76,131.4746 L1187.76,131.4746 L1177.76,121.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.7837" x="910.24" y="139.5444">```go</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="53.3457" x="910.24" y="155.3438">import (</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130.7808" x="928.5213" y="171.1431">"github.com/.../api"</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="244.2388" x="928.5213" y="186.9424">"github.com/.../api/adapter/desktop"</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="910.24" y="202.7417">)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="910.24" y="218.541">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="218.8291" x="910.24" y="234.3403">greeter := desktop.NewGreeter()</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="262.4185" x="910.24" y="250.1396">cmd := api.NewGreetCommand("Alice")</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="234.6792" x="910.24" y="265.939">result := greeter.Execute(ctx, cmd)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="910.24" y="281.7383">```</text></g><!--entity API--><g class="entity" data-entity="API" data-source-line="27" data-uid="ent0009" id="entity_API"><rect fill="#FFE4B5" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="60.9727" x="546.51" y="430.4546"/><rect fill="#FFE4B5" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="587.4827" y="435.4546"/><rect fill="#FFE4B5" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="585.4827" y="437.4546"/><rect fill="#FFE4B5" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="585.4827" y="441.4546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="20.9727" x="561.51" y="464.5298">api</text></g><g class="entity" data-entity="GMN10" data-source-line="29" data-uid="ent0011" id="entity_GMN10"><path d="M667.39,409.4646 L667.39,449.8846 L607.81,453.8846 L667.39,457.8846 L667.39,498.4612 A0,0 0 0 0 667.39,498.4612 L886.6019,498.4612 A0,0 0 0 0 886.6019,498.4612 L886.6019,419.4646 L876.6019,409.4646 L667.39,409.4646 A0,0 0 0 0 667.39,409.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M876.6019,409.4646 L876.6019,419.4646 L886.6019,419.4646 L876.6019,409.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="119.9707" x="673.39" y="427.5344">Type Re-exports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176.7568" x="673.39" y="443.3338">- Re-exports Domain types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.2119" x="673.39" y="459.1331">- Re-exports Application types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="160.5894" x="673.39" y="474.9324">- Single import for types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.3096" x="673.39" y="490.7317">- No business logic</text></g><!--entity Desktop--><g class="entity" data-entity="Desktop" data-source-line="38" data-uid="ent0014" id="entity_Desktop"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="183.1582" x="946.42" y="430.4546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1109.5782" y="435.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1107.5782" y="437.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1107.5782" y="441.4546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="143.1582" x="961.42" y="464.5298">api/adapter/desktop</text></g><!--entity Embedded--><g class="entity" data-entity="Embedded" data-source-line="39" data-uid="ent0015" id="entity_Embedded"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="201.3076" x="1894.35" y="430.4546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2075.6576" y="435.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2073.6576" y="437.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2073.6576" y="441.4546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="161.3076" x="1909.35" y="464.5298">api/adapter/embedded</text></g><!--entity Web--><g class="entity" data-entity="Web" data-source-line="40" data-uid="ent0016" id="entity_Web"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="156.2998" x="1189.85" y="430.4546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1326.1498" y="435.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1324.1498" y="437.4546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1324.1498" y="441.4546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116.2998" x="1204.85" y="464.5298">api/adapter/web</text></g><g class="entity" data-entity="GMN17" data-source-line="43" data-uid="ent0018" id="entity_GMN17"><path d="M1406.48,417.3646 L1406.48,490.5619 L1617.5161,490.5619 L1617.5161,427.3646 L1607.5161,417.3646 L1406.48,417.3646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1607.5161,417.3646 L1607.5161,427.3646 L1617.5161,427.3646 L1607.5161,417.3646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.1938" x="1412.48" y="435.4344">Composition Root</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.8374" x="1412.48" y="451.2338">- Creates console.Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.5332" x="1412.48" y="467.0331">- Creates GreetUseCase</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="190.0361" x="1412.48" y="482.8324">- Returns GreetPort interface</text></g><g class="entity" data-entity="GMN20" data-source-line="50" data-uid="ent0021" id="entity_GMN20"><path d="M2155.91,433.1646 L2155.91,449.8846 L2095.87,453.8846 L2155.91,457.8846 L2155.91,474.7632 A0,0 0 0 0 2155.91,474.7632 L2330.0916,474.7632 A0,0 0 0 0 2330.0916,474.7632 L2330.0916,443.1646 L2320.0916,433.1646 L2155.91,433.1646 A0,0 0 0 0 2155.91,433.1646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2320.0916,433.1646 L2320.0916,443.1646 L2330.0916,443.1646 L2320.0916,433.1646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.1816" x="2161.91" y="451.2344">Future: UART_Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.5391" x="2161.91" y="467.0337">Embedded targets</text></g><g class="entity" data-entity="GMN23" data-source-line="55" data-uid="ent0024" id="entity_GMN23"><path d="M1677.17,433.1646 L1677.17,474.7632 L1834.8223,474.7632 L1834.8223,443.1646 L1824.8223,433.1646 L1677.17,433.1646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1824.8223,433.1646 L1824.8223,443.1646 L1834.8223,443.1646 L1824.8223,433.1646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136.6523" x="1683.17" y="451.2344">Future: WebWriter</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="92.3711" x="1683.17" y="467.0337">WASM targets</text></g><!--entity Operations--><g class="entity" data-entity="Operations" data-source-line="61" data-uid="ent0027" id="entity_Operations"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="178.1406" x="1905.93" y="646.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2064.0706" y="651.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2062.0706" y="653.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2062.0706" y="657.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138.1406" x="1920.93" y="680.9298">application/usecase</text></g><g class="entity" data-entity="GMN28" data-source-line="63" data-uid="ent0029" id="entity_GMN28"><path d="M2143.6,625.8546 L2143.6,665.8846 L2084.3,669.8846 L2143.6,673.8846 L2143.6,714.8512 A0,0 0 0 0 2143.6,714.8512 L2322.4027,714.8512 A0,0 0 0 0 2322.4027,714.8512 L2322.4027,635.8546 L2312.4027,625.8546 L2143.6,625.8546 A0,0 0 0 0 2143.6,625.8546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M2312.4027,625.8546 L2312.4027,635.8546 L2322.4027,635.8546 L2312.4027,625.8546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107.4722" x="2149.6" y="643.9244">Business Logic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.311" x="2149.6" y="659.7238">- Depends on interfaces</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.2935" x="2149.6" y="675.5231">- Platform agnostic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="2149.6" y="691.3224">-</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147.3291" x="2160.0736" y="691.3224">Testable in isolation</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.749" x="2149.6" y="707.1217">- No infrastructure deps</text></g><!--entity CW--><g class="entity" data-entity="CW" data-source-line="73" data-uid="ent0032" id="entity_CW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="141.2061" x="2922.4" y="646.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="3043.6061" y="651.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3041.6061" y="653.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3041.6061" y="657.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="101.2061" x="2937.4" y="680.9298">console.Writer</text></g><!--entity UW--><g class="entity" data-entity="UW" data-source-line="74" data-uid="ent0033" id="entity_UW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.3418" x="3300.33" y="646.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="3397.6718" y="651.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3395.6718" y="653.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3395.6718" y="657.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.3418" x="3315.33" y="680.9298">uart.Writer</text></g><!--entity DW--><g class="entity" data-entity="DW" data-source-line="75" data-uid="ent0034" id="entity_DW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.1025" x="3123.45" y="646.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="3220.5525" y="651.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3218.5525" y="653.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="3218.5525" y="657.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="77.1025" x="3138.45" y="680.9298">web.Writer</text></g><!--entity UC--><g class="entity" data-entity="UC" data-source-line="79" data-uid="ent0036" id="entity_UC"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.9141" x="2443.04" y="814.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2534.9541" y="819.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2532.9541" y="821.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2532.9541" y="825.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.9141" x="2458.04" y="848.9298">Use Cases</text></g><!--entity Ports--><g class="entity" data-entity="Ports" data-source-line="80" data-uid="ent0037" id="entity_Ports"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="162.1514" x="2792.92" y="814.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2935.0714" y="819.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2933.0714" y="821.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2933.0714" y="825.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="122.1514" x="2807.92" y="848.9298">Ports (interfaces)</text></g><!--entity Cmds--><g class="entity" data-entity="Cmds" data-source-line="81" data-uid="ent0038" id="entity_Cmds"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="118.791" x="2614.6" y="814.8546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2713.391" y="819.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2711.391" y="821.8546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2711.391" y="825.8546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78.791" x="2629.6" y="848.9298">Commands</text></g><!--entity VOs--><g class="entity" data-entity="VOs" data-source-line="85" data-uid="ent0040" id="entity_VOs"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="136.9473" x="2430.53" y="941.8746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2547.4773" y="946.8746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2545.4773" y="948.8746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2545.4773" y="952.8746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.9473" x="2445.53" y="975.9498">Value Objects</text></g><!--entity Errors--><g class="entity" data-entity="Errors" data-source-line="86" data-uid="ent0041" id="entity_Errors"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="140.1602" x="2627.92" y="941.8746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2748.0802" y="946.8746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2746.0802" y="948.8746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2746.0802" y="952.8746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="100.1602" x="2642.92" y="975.9498">Error + Result</text></g><g class="entity" data-entity="GMN58" data-source-line="119" data-uid="ent0059" id="entity_GMN58"><path d="M11,377.8646 L11,530.0585 L487,530.0585 L487,387.8646 L477,377.8646 L11,377.8646" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><path d="M477,377.8646 L477,387.8646 L487,387.8646 L477,377.8646" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173.894" x="17" y="395.9344">Testable Business Logic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="455" x="17" y="411.7338">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.7886" x="17" y="427.5331">Everything here is:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192.5054" x="17" y="443.3324">- Interface-based (mockable)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.2935" x="17" y="459.1317">- Platform agnostic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="93.4565" x="17" y="474.931">- Unit testable</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.915" x="17" y="490.7303">- application/usecase/*</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.1597" x="17" y="506.5296">- application/command/*</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="72.8774" x="17" y="522.329">- domain/*</text></g><g class="entity" data-entity="GMN61" data-source-line="131" data-uid="ent0062" id="entity_GMN61"><path d="M2386,610.0546 L2386,730.6498 L2862,730.6498 L2862,620.0546 L2852,610.0546 L2386,610.0546" fill="#FFE4B5" style="stroke:#000000;stroke-width:1;"/><path d="M2852,610.0546 L2852,620.0546 L2862,620.0546 L2852,610.0546" fill="#FFE4B5" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.1938" x="2392" y="628.1244">Composition Root</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="455" x="2392" y="643.9238">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="216.0996" x="2392" y="659.7231">Wires concrete implementations:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.4063" x="2392" y="675.5224">- api/adapter/desktop</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="160.2593" x="2392" y="691.3217">- api/adapter/embedded</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="118.4663" x="2392" y="707.121">- api/adapter/web</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="169.5776" x="2392" y="722.9203">- infrastructure/adapter/*</text></g><!--link Desktop to GMN17--><g class="link" data-entity-1="Desktop" data-entity-2="GMN17" data-source-line="43" data-uid="lnk19" id="link_Desktop_GMN17"><path d="M1038,429.9746 C1038,426.3946 1038,423.8846 1038,423.8846 C1038,423.8846 1266.52,423.8846 1406.22,423.8846" fill="none" id="Desktop-GMN17" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Web to GMN23--><g class="link" data-entity-1="Web" data-entity-2="GMN23" data-source-line="55" data-uid="lnk25" id="link_Web_GMN23"><path d="M1307.07,477.7646 C1307.07,486.7746 1307.07,494.8846 1307.07,494.8846 C1307.07,494.8846 1756,494.8846 1756,494.8846 C1756,494.8846 1756,484.9746 1756,474.9046" fill="none" id="Web-GMN23" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Main to API--><g class="link" data-entity-1="Main" data-entity-2="API" data-source-line="90" data-uid="lnk42" id="link_Main_API"><path d="M769.28,205.8846 C704.03,205.8846 577,205.8846 577,205.8846 C577,205.8846 577,362.0846 577,424.1746" fill="none" id="Main-to-API" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="577,430.1746,581,421.1746,577,425.1746,573,421.1746,577,430.1746" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="89.6479" x="487" y="218.9644">imports types</text></g><!--link Main to Desktop--><g class="link" data-entity-1="Main" data-entity-2="Desktop" data-source-line="91" data-uid="lnk43" id="link_Main_Desktop"><path d="M844.76,212.8846 C868.79,212.8846 895.42,212.8846 895.42,212.8846 C895.42,212.8846 895.42,453.8846 895.42,453.8846 C895.42,453.8846 912.5,453.8846 940.09,453.8846" fill="none" id="Main-to-Desktop" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="946.09,453.8846,937.09,449.8846,941.09,453.8846,937.09,457.8846,946.09,453.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="104.4443" x="790.42" y="330.4544">imports adapter</text></g><!--link Desktop to Operations--><g class="link" data-entity-1="Desktop" data-entity-2="Operations" data-source-line="94" data-uid="lnk44" id="link_Desktop_Operations"><path d="M992.21,477.9246 C992.21,535.6946 992.21,677.8846 992.21,677.8846 C992.21,677.8846 1653.79,677.8846 1899.57,677.8846" fill="none" id="Desktop-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1905.57,677.8846,1896.57,673.8846,1900.57,677.8846,1896.57,681.8846,1905.57,677.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79.6377" x="1268.91" y="674.9544">creates with</text></g><!--link Desktop to CW--><g class="link" data-entity-1="Desktop" data-entity-2="CW" data-source-line="95" data-uid="lnk45" id="link_Desktop_CW"><path d="M1083.79,477.7946 C1083.79,515.3046 1083.79,583.8846 1083.79,583.8846 C1083.79,583.8846 2993,583.8846 2993,583.8846 C2993,583.8846 2993,615.1246 2993,640.7246" fill="none" id="Desktop-to-CW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2993,646.7246,2997,637.7246,2993,641.7246,2989,637.7246,2993,646.7246" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="133.8911" x="1882.77" y="580.9544">console.NewWriter()</text></g><!--link Embedded to Operations--><g class="link" data-entity-1="Embedded" data-entity-2="Operations" data-source-line="97" data-uid="lnk46" id="link_Embedded_Operations"><path d="M2024.69,477.9446 C2024.69,519.6546 2024.69,599.0446 2024.69,640.5946" fill="none" id="Embedded-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2024.69,646.5946,2028.69,637.5946,2024.69,641.5946,2020.69,637.5946,2024.69,646.5946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79.6377" x="1944.69" y="559.3444">creates with</text></g><!--link Embedded to UW--><g class="link" data-entity-1="Embedded" data-entity-2="UW" data-source-line="98" data-uid="lnk47" id="link_Embedded_UW"><path d="M2089.86,477.8346 C2089.86,508.2346 2089.86,556.8846 2089.86,556.8846 C2089.86,556.8846 3359,556.8846 3359,556.8846 C3359,556.8846 3359,607.2946 3359,640.5646" fill="none" id="Embedded-to-UW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="3359,646.5646,3363,637.5646,3359,641.5646,3355,637.5646,3359,646.5646" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.7314" x="2617.75" y="553.9544">uart.NewWriter()</text></g><!--link Web to Operations--><g class="link" data-entity-1="Web" data-entity-2="Operations" data-source-line="100" data-uid="lnk48" id="link_Web_Operations"><path d="M1228.93,477.9246 C1228.93,532.8046 1228.93,662.8846 1228.93,662.8846 C1228.93,662.8846 1697.54,662.8846 1899.62,662.8846" fill="none" id="Web-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1905.62,662.8846,1896.62,658.8846,1900.62,662.8846,1896.62,666.8846,1905.62,662.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79.6377" x="1394.8" y="659.9544">creates with</text></g><!--link Web to DW--><g class="link" data-entity-1="Web" data-entity-2="DW" data-source-line="101" data-uid="lnk49" id="link_Web_DW"><path d="M1268,477.8946 C1268,492.6946 1268,508.8846 1268,508.8846 C1268,508.8846 3182,508.8846 3182,508.8846 C3182,508.8846 3182,595.6146 3182,640.5346" fill="none" id="Web-to-DW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="3182,646.5346,3186,637.5346,3182,641.5346,3178,637.5346,3182,646.5346" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="111.5093" x="2166.33" y="505.9544">web.NewWriter()</text></g><!--link Operations to UC--><g class="link" data-entity-1="Operations" data-entity-2="UC" data-source-line="104" data-uid="lnk50" id="link_Operations_UC"><path d="M1995,694.3646 C1995,740.6846 1995,837.8846 1995,837.8846 C1995,837.8846 2305.13,837.8846 2436.65,837.8846" fill="none" id="Operations-to-UC" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2442.65,837.8846,2433.65,833.8846,2437.65,837.8846,2433.65,841.8846,2442.65,837.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.3428" x="2003.06" y="834.9544">implements GreetPort</text></g><!--link Operations to Cmds--><g class="link" data-entity-1="Operations" data-entity-2="Cmds" data-source-line="105" data-uid="lnk51" id="link_Operations_Cmds"><path d="M2039.54,694.1346 C2039.54,724.4246 2039.54,772.8846 2039.54,772.8846 C2039.54,772.8846 2674,772.8846 2674,772.8846 C2674,772.8846 2674,789.9646 2674,808.7246" fill="none" id="Operations-to-Cmds" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2674,814.7246,2678,805.7246,2674,809.7246,2670,805.7246,2674,814.7246" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129.0161" x="2208.31" y="769.9544">receives commands</text></g><!--link Operations to VOs--><!--link CW to Ports--><g class="link" data-entity-1="CW" data-entity-2="Ports" data-source-line="109" data-uid="lnk53" id="link_CW_Ports"><path d="M2938.74,694.0746 C2938.74,726.0046 2938.74,776.4946 2938.74,808.4946" fill="none" id="CW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2938.74,814.4946,2942.74,805.4946,2938.74,809.4946,2934.74,805.4946,2938.74,814.4946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.4878" x="2790.74" y="751.3544">implements WriterPort</text></g><!--link UW to Ports--><g class="link" data-entity-1="UW" data-entity-2="Ports" data-source-line="110" data-uid="lnk54" id="link_UW_Ports"><path d="M3359,694.0246 C3359,741.9446 3359,845.8846 3359,845.8846 C3359,845.8846 3099.6,845.8846 2961.45,845.8846" fill="none" id="UW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2955.45,845.8846,2964.45,849.8846,2960.45,845.8846,2964.45,841.8846,2955.45,845.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.4878" x="3085.15" y="859.9544">implements WriterPort</text></g><!--link DW to Ports--><g class="link" data-entity-1="DW" data-entity-2="Ports" data-source-line="111" data-uid="lnk55" id="link_DW_Ports"><path d="M3182,694.0446 C3182,738.6946 3182,830.8846 3182,830.8846 C3182,830.8846 3052.58,830.8846 2961.33,830.8846" fill="none" id="DW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2955.33,830.8846,2964.33,834.8846,2960.33,830.8846,2964.33,826.8846,2955.33,830.8846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="147.4878" x="2989.08" y="827.9544">implements WriterPort</text></g><!--link UC to VOs--><g class="link" data-entity-1="UC" data-entity-2="VOs" data-source-line="114" data-uid="lnk56" id="link_UC_VOs"><path d="M2499,862.2546 C2499,884.9646 2499,912.9246 2499,935.5946" fill="none" id="UC-to-VOs" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2499,941.5946,2503,932.5946,2499,936.5946,2495,932.5946,2499,941.5946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96.1035" x="2402" y="898.9944">creates Person</text></g><!--link Ports to Errors--><g class="link" data-entity-1="Ports" data-entity-2="Errors" data-source-line="115" data-uid="lnk57" id="link_Ports_Errors"><path d="M2792.47,837.8846 C2769.55,837.8846 2750.74,837.8846 2750.74,837.8846 C2750.74,837.8846 2750.74,898.4646 2750.74,935.3946" fill="none" id="Ports-to-Errors" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2750.74,941.3946,2754.74,932.3946,2750.74,936.3946,2746.74,932.3946,2750.74,941.3946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="74.5596" x="2675.74" y="882.8444">uses Result</text></g><!--link GMN58 to Operations--><g class="link" data-entity-1="GMN58" data-entity-2="Operations" data-source-line="119" data-uid="lnk60" id="link_GMN58_Operations"><path d="M487.19,519.8846 C958.6,519.8846 1965.31,519.8846 1965.31,519.8846 C1965.31,519.8846 1965.31,604.0846 1965.31,646.5146" fill="none" id="GMN58-Operations" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Desktop to GMN61--><g class="link" data-entity-1="Desktop" data-entity-2="GMN61" data-source-line="131" data-uid="lnk63" id="link_Desktop_GMN61"><path d="M1038,477.7946 C1038,523.2646 1038,617.8846 1038,617.8846 C1038,617.8846 1942.95,617.8846 2385.7,617.8846" fill="none" id="Desktop-GMN61" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><g class="legend" data-source-line="140"><rect fill="none" height="605.5127" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="556" x="2866" y="1015.8846"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.293" x="2871" y="1034.9598">Why This Pattern?</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2871" y="1051.9745">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2871" y="1068.9891">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="314.7949" x="2871" y="1086.0037">1. application/usecase (Business Logic)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="204.0186" x="2871" y="1103.0184">&#8226; Depends only on interfaces</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="201.127" x="2871" y="1120.033">&#8226; Platform agnostic, testable</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.542" x="2871" y="1137.0477">&#8226; Shared by ALL composition roots</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="232.6816" x="2871" y="1154.0623">&#8226; No infrastructure dependencies</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2871" y="1171.077">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="319.4775" x="2871" y="1188.0916">2. api/adapter/xxx (Composition Roots)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="253.2783" x="2871" y="1205.1063">&#8226; Creates concrete implementations</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.3096" x="2871" y="1222.1209">&#8226; Wires infrastructure to use cases</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="239.5723" x="2871" y="1239.1356">&#8226; One adapter per target platform</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="218.6475" x="2871" y="1256.1502">&#8226; Returns interface (GreetPort)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2871" y="1273.1649">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="161.3828" x="2871" y="1290.1795">3. api (Type Facade)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="248.7461" x="2871" y="1307.1942">&#8226; Re-exports types for convenience</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="263.2998" x="2871" y="1324.2088">&#8226; Single import for domain/app types</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169.5791" x="2871" y="1341.2235">&#8226; Stable public interface</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134.0732" x="2871" y="1358.2381">&#8226; No business logic</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2871" y="1375.2528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="149.8301" x="2871" y="1392.2674">Platform Flexibility</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2871" y="1409.2821">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="274.6064" x="2871" y="1426.2967">&#8226; Desktop: console.Writer (fmt.Println)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="264.1885" x="2871" y="1443.3114">&#8226; Embedded: uart.Writer (serial port)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="211.9141" x="2871" y="1460.326">&#8226; Web: web.Writer (DOM API)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="270.2588" x="2871" y="1477.3407">&#8226; Test: mock.Writer (captured output)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2871" y="1494.3553">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90.8359" x="2871" y="1511.37">Key Insight</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2871" y="1528.3846">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="199.2881" x="2871" y="1545.3993">Business logic in usecase is:</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="219.9561" x="2871" y="1562.4139">&#9989; Interface-based (mockable)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="216.21" x="2871" y="1579.4286">&#9989; Shared across all platforms</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="175.4268" x="2871" y="1596.4432">&#9989; Zero code duplication</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="188.4287" x="2871" y="1613.4579">&#9989; Easy to test in isolation</text></g><!--SRC=[nLTBZzis4BxhLx3E8VOczcwRPf4rq1PUFzAWcwoHP6EW3pIqD6kpAui2IMLj505wwRsNtdhgJyilwGn9oPIiF4vf460jpd0u_ERZD-GNPWqRO7dAHHRf6v7bNF4DIqK6PfS3aygiPM38P08QSdPw4WmgdjtGuAEJA3B2fC16yoTibF3SW69pRl1FzdCsbfjSQc64pDXpAGsxn-OfDzTIRTWiXQrOYbIO7Ui-bhqeodbymrV0EcEPwMA3WKPvdegOq_mEuvfLXZlJazbiUi9-ZnYBQP4CCiCw6zoJTNnAcsEOkm6cn6fjcBmk1nbx_VhrIjfV0gSgmxhsW_vrLiAiY-K0WnuF1eDZdelEXup7tEtv646wCJ9tphWP-hDI08J7y1lcpODdSFlOZNPxrYVU96J7K9KDKTlmBEbsHhXvw3W_1Rf83Rdwg8Ff5kB2G3Sss_iKfbVk3Vz2bjZDHsy3MAb45tm7oaA4N_Q3tK4apySJn18dLiwO4Ek-94BCUCmJw9MJtAT5leOz8ULTRCYlpnzQbteDqEhXF3goqPz37xPK17rqv2tzO91D91ML4JLrcpsWICFfXSXMI4nVOkHSm_vCicMXaVPQirIkH6mj5NAClQq1qkIojhkrlrh1E606kK_SRm9eSdfszg5fi5b2aa1YvqtznwTCl8MbdRE0PUNUKWcVIbMDvlw2SemLS0CQ5yoqJ66mK08NEZ1Rybvf67CDGQbCeJ9ld5CbH8QJhtaCTRnRKYntNUKuAp0O3DdLwFdBNrqMLPeLH8Qh5HZzqUY8pq5W76k4NOnUF6qFsIH8o4H4WH4CZYGU4ytkZCUpsNZSnfTgxd6X8KPlE_Co1sL7TSi66aRQntb9w0iYT5322UIOk6QOMuN__YXKeinNcTJ67mMou2a5RVYI3X9EnVBR5OF8U8n4TgsuDgg82KNKkhm5gb29djGdx4N96hmiJKzd3sQpfiJNEUYwmgBkKd1bGljLmuu793HF5dML3CeOg6MUbsazcZsSdZNJQXHyNBVEhLHrzyWxDRN3TK-l_IxCU9FeMcvU3FTfkO5AnsTdqzDcPgzuMW2xNFu6iTUiLvUDHQTAeJhUmxDAFSO93WtPnU_kkwwHLh-fZx9-8c-p_hTMxeTUPBLNs9f3ANbx9ozKBlHUT1HT46w5GjcEoabba3tLCKxizUOMk_61vtX17fuas55TeR7PHfL0V3peWUiLHRMygeKaYVrujD1hGe68WBKuTyFPYJsgaCK2eGp6grp63iiKht6P2PIrpPaeXEuAOX1lh8GxVjLyVreBt6tsYvz3_C2K6eSqMD6MCKAaorKSlsjPkStPjAu-rN7ogOwONQtlItyG8iIclzz5K8WvA2spo8KjNHp9gR8apexz5FjxLDYKL9QeQ3MN65PJt5BA8nPAP8lylllxhy_p7zUQlW6rCslCcgs1IgQ74Kdqar9t-akKg8HrDn851HFkHUzJ_pwxoeHXnk_CZhGqgUEZ0ujdcBSajYxuiU_45j2bD4PkWdj8S6TyprtaSoAv4ChTTv0_9k2-A_xGR_hWZdSm3liRJDrmQoyV_KRhhCmXNYciwCEsVOlEOhrZBzT2b- -ixpulF3MeR49V3jgumRhruz1pQVxnRt0PINS7Dn9oE63a_P29vF5YpHKoURbZeuiBryk2DbB6QRsRxCNL9l_Le5QOxNRBkWTt_NtkmLsubHlUpH6eiJZg56B329pIxpA3iX-od5gilMdIwzm2uBtAItG55BwOIzNlkMqyiDkeFzcgf8FtaktGzZM4EtW3cK0iAb0FNap- -69rgyUJTNHobnTBB7hjGkzHRpoiR8PjB___aRab5Ut17JRUDgnxlJ63ETv5J9hrl6zvA_0tWT9JWn8yjKsnzCIExxfywJEvV4etfT9E3MF8I8KhZnWvK12bPM7oegpg3x13zTPqzFzNgCvhzQIdG7d8NOzvzy-V7-uovE3FB8-Ln4WyJIkQQ-_n8oY9bKZmd1QLddZRbEiTdI0IWjfRXAJIQMJq7m00]--></g></svg>